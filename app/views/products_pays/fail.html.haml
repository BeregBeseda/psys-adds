- $addresser ||= ProductsPay.new
#block
  #button.margin_top
    = form_for $addresser do |f|

      - if $addresser.errors.any?

        -#%div{style: 'color:red;'}
          HELLO!!!

        = javascript_include_tag 'auto_focus'
        :css
          #button INPUT {
            margin-bottom: 4px !important;
          }

          #button {
            margin-top: 30px !important;
          }

        %p
          #errors_style{style: 'font-size: 150%;'}
            Чтобы оставить свой отзыв, заполните все обязательные поля:
            - $addresser.errors.each do |attribute, msg|
              - if attribute == :email
                - @email_class = 'errors_field'
              - if attribute == :product_name
                - @product_name_class = 'errors_field'
              - if attribute == :sum
                - @sum_class = 'errors_field'
              - if attribute == :account
                - @account_class = 'errors_field'
              - if attribute == :when
                - @when_class = 'errors_field'

              -#%li
                = msg

      - unless $addresser.errors.any?
        #top_field
          = $top_field_text
      - $top_field_text = nil
      - $addresser = nil


      = f.text_field :email, {class: 'input-address' ' input-xlarge' " #{@email_class}", style: 'width:99%;', type: 'hidden', placeholder: "#{@products_pay_email}", 'data-maxsize' => '60', spellcheck: 'false'}
      = f.text_field :product_name, {class: 'input-address' ' input-xlarge' " #{@product_name_class}", style: 'width:99%;', type: 'hidden', placeholder: "#{@products_pay_product_name}", 'data-maxsize' => '60', spellcheck: 'false'}
      = f.text_field :sum, {class: 'input-address' ' input-xlarge' " #{@sum_class}", style: 'width:99%;', type: 'text', placeholder: "Введите сумму, которую Вы оплатили (в гривнах)", 'data-maxsize' => '2000', spellcheck: 'false'}
      = f.text_field :when, {class: 'input-address' ' input-xlarge' " #{@when_class}", style: 'width:99%;', type: 'text', placeholder: 'Введите дату и время оплаты', 'data-maxsize' => '2000', spellcheck: 'false'}
      = f.text_field :account, {class: 'input-address' ' input-xlarge' " #{@account_class}", style: 'width:99%;', type: 'text', placeholder: 'Введите номер платежа', 'data-maxsize' => '2000', spellcheck: 'false'}


      - @email_class = nil
      - @product_name_class = nil
      - @sum_class = nil
      - @account_class = nil
      - @when_class = nil

      = f.submit 'Ok', { class: 'btn' ' btn-large' ' btn-primary' , style: ' color: white; padding: 5px 5px 5px 5px !important; font-size: 150%; font-family: Verdana, "Bitstream Vera Sans"; ', onMouseOver: "this.style.backgroundColor='rgb(0, 68, 204)'" }

